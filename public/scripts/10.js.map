{"version":3,"sources":["webpack:///./src/components/LoadingIcon.jsx","webpack:///./src/components/AdminPage/AllUsers.jsx","webpack:///./src/redux/actions/admin.js","webpack:///./src/pages/AdminPage.jsx"],"names":["react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","prop_types__WEBPACK_IMPORTED_MODULE_1__","LoadingIcon","_ref","className","a","createElement","src","propTypes","PropTypes","string","AllUsers","_Component","_getPrototypeOf2","_this","_classCallCheck","this","_len","arguments","length","args","Array","_key","_defineProperty","_assertThisInitialized","_getPrototypeOf","call","apply","concat","loading","users","_inherits","Component","key","value","nextProps","getAllUsers","_this$state","state","react_default","map","user","index","name","email","country","getMemberStatus","privilege","array","func","mapDispatchToProps","dispatch","getState","setLoading","fetch","headers","Authorization","token","Content-Type","then","res","json","type","catch","err","setErrors","connect","admin","AdminPage","AdminPage_AllUsers"],"mappings":"2FAAA,IAAAA,EAAAC,EAAA,GAAAC,EAAAD,EAAAE,EAAAH,GAAAI,EAAAH,EAAA,GAGMI,EAAc,SAAAC,GAAmB,IAAhBC,EAAgBD,EAAhBC,UACnB,OACIL,EAAAM,EAAAC,cAAA,OAAKF,UAAWA,GAAa,gBACzBL,EAAAM,EAAAC,cAAA,OAAKC,IAAI,+BAA+BH,UAAU,iBAClDL,EAAAM,EAAAC,cAAA,MAAIF,UAAU,YAAd,cAKZF,EAAYM,UAAY,CACpBJ,UAbJN,EAAAE,EAAAC,GAaeQ,EAAUC,QAGVR,+8BCTR,IAAMS,EAAb,SAAAC,GAAA,SAAAD,IAAA,IAAAE,EAAAC,mGAAAC,CAAAC,KAAAL,GAAA,QAAAM,EAAAC,UAAAC,OAAAC,EAAA,IAAAC,MAAAJ,GAAAK,EAAA,EAAAA,EAAAL,EAAAK,IAAAF,EAAAE,GAAAJ,UAAAI,GAAA,SAAAN,KAAAO,EAAAC,IAAAV,OAAAD,EAAAY,EAAAd,IAAAe,KAAAC,MAAAd,EAAA,CAAAG,MAAAY,OAAAR,qDAAA,QAMY,CACJS,SAAS,EACTC,MAAO,KARfhB,YAAA,yOAAAiB,CAAApB,EAA8BqB,kBAA9BrB,IAAA,EAAAsB,IAAA,2BAAAC,MAAA,SAWoCC,GAE5B,OADAA,EAAUC,cACmB,EAAzBD,EAAUL,MAAMX,OACT,CAAEW,MAAOK,EAAUL,MAAOD,SAAS,GAEvC,WAhBf,EAAAI,IAAA,SAAAC,MAAA,WAmBa,IAAAG,EACsBrB,KAAKsB,MAAxBR,EADHO,EACGP,MACR,OAFKO,EACUR,SAECU,EAAAlC,EAAAC,cAACJ,EAAA,EAAD,OACRqC,EAAAlC,EAAAC,cAAA,SAAOF,UAAU,uBACbmC,EAAAlC,EAAAC,cAAA,aACIiC,EAAAlC,EAAAC,cAAA,UACIiC,EAAAlC,EAAAC,cAAA,kBACAiC,EAAAlC,EAAAC,cAAA,mBACAiC,EAAAlC,EAAAC,cAAA,qBACAiC,EAAAlC,EAAAC,cAAA,sBAGRiC,EAAAlC,EAAAC,cAAA,aACKwB,EAAMU,IAAI,SAACC,EAAMC,GAAP,OACPH,EAAAlC,EAAAC,cAAA,MAAI2B,IAAKS,GACLH,EAAAlC,EAAAC,cAAA,UAAKmC,EAAKE,MACVJ,EAAAlC,EAAAC,cAAA,UAAKmC,EAAKG,OACVL,EAAAlC,EAAAC,cAAA,UAAKmC,EAAKI,SACVN,EAAAlC,EAAAC,cAAA,UAAKwC,YAAgBL,EAAKM,iDAtC1DpC,EAAA,KAAaA,cACU,CACfmB,MAAOrB,IAAUuC,MACjBZ,YAAa3B,IAAUwC,OA6C/B,IAIMC,EAAqB,CACvBd,YC1DuB,kBAAM,SAACe,EAAUC,GACxCD,EAASE,aAAW,IACpBC,MAAM,yCAA0C,CAC5CC,QAAS,CACLC,cAAeJ,IAAWX,KAAKgB,MAC/BC,eAAgB,sBAGnBC,KAAK,SAAAC,GAAG,OAAIA,EAAIC,SAChBF,KAAK,SAAAE,GACEA,EAAK/B,OACLqB,EAAS,CACLW,KAAM,gBACNhC,MAAO+B,EAAK/B,QAGpBqB,EAASE,aAAW,MAEvBU,MAAM,SAAAC,GACHb,EAASc,YAAUD,IACnBb,EAASE,aAAW,SDyCjBa,cARS,SAAA5B,GAAK,MAAK,CAC9BR,MAAOQ,EAAM6B,MAAMrC,QASnBoB,EAFWgB,CAGbvD,GEvDayD,UARG,WACd,OACI7B,EAAAlC,EAAAC,cAAA,OAAKF,UAAU,SACXmC,EAAAlC,EAAAC,cAAC+D,EAAD","file":"./scripts/10.js","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst LoadingIcon = ({ className }) => {\r\n    return (\r\n        <div className={className || 'loading-icon'}>\r\n            <img src=\"https://i.gifer.com/ZNeS.gif\" className=\"loading-icon\" />\r\n            <h4 className=\"centered\">Loading!</h4>\r\n        </div>\r\n    );\r\n};\r\n\r\nLoadingIcon.propTypes = {\r\n    className: PropTypes.string\r\n};\r\n\r\nexport default LoadingIcon;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { getMemberStatus } from '../../redux/selectors/users';\r\nimport { getAllUsers } from '../../redux/actions/admin';\r\nimport LoadingIcon from '../LoadingIcon';\r\n\r\nexport class AllUsers extends Component {\r\n    static propTypes = {\r\n        users: PropTypes.array,\r\n        getAllUsers: PropTypes.func\r\n    };\r\n\r\n    state = {\r\n        loading: true,\r\n        users: []\r\n    };\r\n\r\n    static getDerivedStateFromProps(nextProps) {\r\n        nextProps.getAllUsers();\r\n        if (nextProps.users.length > 0) {\r\n            return { users: nextProps.users, loading: false };\r\n        }\r\n        return null;\r\n    }\r\n\r\n    render() {\r\n        const { users, loading } = this.state;\r\n        return (\r\n            (loading && <LoadingIcon />) || (\r\n                <table className=\"admin__users--table\">\r\n                    <thead>\r\n                        <tr>\r\n                            <td>Name</td>\r\n                            <td>Email</td>\r\n                            <td>Country</td>\r\n                            <td>Status</td>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {users.map((user, index) => (\r\n                            <tr key={index}>\r\n                                <td>{user.name}</td>\r\n                                <td>{user.email}</td>\r\n                                <td>{user.country}</td>\r\n                                <td>{getMemberStatus(user.privilege)}</td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n            )\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    users: state.admin.users\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n    getAllUsers\r\n};\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(AllUsers);\r\n","import { setLoading, setErrors } from './common';\r\n\r\nexport const getAllUsers = () => (dispatch, getState) => {\r\n    dispatch(setLoading(true));\r\n    fetch('https://wiakc.herokuapp.com/auth/users', {\r\n        headers: {\r\n            Authorization: getState().user.token,\r\n            'Content-Type': 'application/json'\r\n        }\r\n    })\r\n        .then(res => res.json())\r\n        .then(json => {\r\n            if (json.users) {\r\n                dispatch({\r\n                    type: 'GET_ALL_USERS',\r\n                    users: json.users\r\n                });\r\n            }\r\n            dispatch(setLoading(false));\r\n        })\r\n        .catch(err => {\r\n            dispatch(setErrors(err));\r\n            dispatch(setLoading(false));\r\n        });\r\n};\r\n","import React from 'react';\r\nimport AllUsers from '../components/AdminPage/AllUsers';\r\n\r\nconst AdminPage = () => {\r\n    return (\r\n        <div className=\"admin\">\r\n            <AllUsers />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AdminPage;\r\n"],"sourceRoot":""}