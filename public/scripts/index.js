!function(c){function e(e){for(var t,n,r=e[0],a=e[1],o=e[2],i=0,u=[];i<r.length;i++)n=r[i],p[n]&&u.push(p[n][0]),p[n]=0;for(t in a)Object.prototype.hasOwnProperty.call(a,t)&&(c[t]=a[t]);for(d&&d(e);u.length;)u.shift()();return l.push.apply(l,o||[]),s()}function s(){for(var e,t=0;t<l.length;t++){for(var n=l[t],r=!0,a=1;a<n.length;a++){var o=n[a];0!==p[o]&&(r=!1)}r&&(l.splice(t--,1),e=m(m.s=n[0]))}return e}var n={},f={0:0},p={0:0},l=[];function m(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return c[e].call(t.exports,t,t.exports,m),t.l=!0,t.exports}m.e=function(l){var e=[];f[l]?e.push(f[l]):0!==f[l]&&{2:1}[l]&&e.push(f[l]=new Promise(function(e,r){for(var t="e904c76bdf33c3f6a42b.css",a=m.p+t,n=document.getElementsByTagName("link"),o=0;o<n.length;o++){var i=(c=n[o]).getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(i===t||i===a))return e()}var u=document.getElementsByTagName("style");for(o=0;o<u.length;o++){var c;if((i=(c=u[o]).getAttribute("data-href"))===t||i===a)return e()}var s=document.createElement("link");s.rel="stylesheet",s.type="text/css",s.onload=e,s.onerror=function(e){var t=e&&e.target&&e.target.src||a,n=new Error("Loading CSS chunk "+l+" failed.\n("+t+")");n.request=t,delete f[l],s.parentNode.removeChild(s),r(n)},s.href=a,document.getElementsByTagName("head")[0].appendChild(s)}).then(function(){f[l]=0}));var t,n=p[l];if(0!==n)if(n)e.push(n[2]);else{var r=new Promise(function(e,t){n=p[l]=[e,t]});e.push(n[2]=r);var a,o=document.createElement("script");o.charset="utf-8",o.timeout=120,m.nc&&o.setAttribute("nonce",m.nc),o.src=m.p+"./scripts/"+({}[t=l]||t)+".js",a=function(e){o.onerror=o.onload=null,clearTimeout(i);var t=p[l];if(0!==t){if(t){var n=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src,a=new Error("Loading chunk "+l+" failed.\n("+n+": "+r+")");a.type=n,a.request=r,t[1](a)}p[l]=void 0}};var i=setTimeout(function(){a({type:"timeout",target:o})},12e4);o.onerror=o.onload=a,document.head.appendChild(o)}return Promise.all(e)},m.m=c,m.c=n,m.d=function(e,t,n){m.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},m.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},m.t=function(t,e){if(1&e&&(t=m(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(m.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)m.d(n,r,function(e){return t[e]}.bind(null,r));return n},m.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return m.d(t,"a",t),t},m.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},m.p="/",m.oe=function(e){throw console.error(e),e};var t=window.webpackJsonp=window.webpackJsonp||[],r=t.push.bind(t);t.push=e,t=t.slice();for(var a=0;a<t.length;a++)e(t[a]);var d=r;l.push([164,1]),s()}({113:function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"a",function(){return o});var i=n(43);function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){a(t,e,n[e])})}return t}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t,n,r,a,o,i){try{var u=e[o](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,a)}var l=function(){return function(e){e(Object(i.e)(0)),e({type:"LOGOUT"})}},r=function(){var u,r=(u=regeneratorRuntime.mark(function e(t,n,r){var a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 3:if(200!==(a=e.sent).status&&201!==a.status)throw new Error(a.message||a.data);e.next=8;break;case 8:return o=new Date((new Date).getTime()+36e5),e.t0=r,e.t1=c,e.t2={type:"LOGIN",expiryDate:o.toISOString()},e.next=14,a.json();case 14:e.t3=e.sent,e.t4=(0,e.t1)(e.t2,e.t3),(0,e.t0)(e.t4),r(Object(i.e)(0)),setTimeout(function(){r(l)},o.getTime()-(new Date).getTime());case 19:e.next=24;break;case 21:e.prev=21,e.t5=e.catch(0),console.log(e.t5);case 24:case"end":return e.stop()}},e,this,[[0,21]])}),function(){var e=this,i=arguments;return new Promise(function(t,n){var r=u.apply(e,i);function a(e){s(r,t,n,a,o,"next",e)}function o(e){s(r,t,n,a,o,"throw",e)}a(void 0)})});return function(e,t,n){return r.apply(this,arguments)}}(),o=function(t){return function(e){return r("https://wiakc.herokuapp.com/auth/login",t,e)}}},164:function(e,t,n){n(165),n(365),e.exports=n(364)},360:function(e,t){},364:function(e,t,n){},365:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),o=n(157),i=n.n(o),u=n(32),c=n(31),s=n(112);function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){f(t,e,n[e])})}return t}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t,n,r,a,o,i){try{var u=e[o](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,a)}function m(){return d.apply(this,arguments)}function d(){var u;return u=regeneratorRuntime.mark(function e(){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/assets/data/index.json").then(function(e){return e.json()});case 2:return(r=e.sent).events=[],e.abrupt("return",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:r,t=1<arguments.length?arguments[1]:void 0,n=l({},e);switch(t.type){case"SET_MODAL":n.modal=t.modal;break;case"EVENTS":n.events=t.events;break;case"SET_EVENT":n.event=t.event}return n});case 5:case"end":return e.stop()}},e,this)}),(d=function(){var e=this,i=arguments;return new Promise(function(t,n){var r=u.apply(e,i);function a(e){p(r,t,n,a,o,"next",e)}function o(e){p(r,t,n,a,o,"throw",e)}a(void 0)})}).apply(this,arguments)}function v(e,t,n,r,a,o,i){try{var u=e[o](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,a)}function h(){return g.apply(this,arguments)}function g(){var u;return u=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/assets/data/home.json").then(function(e){return e.json()});case 2:return(t=e.sent).icons=t.icons||{unknown:""},e.abrupt("return",function(){return 0<arguments.length&&void 0!==arguments[0]?arguments[0]:t});case 5:case"end":return e.stop()}},e,this)}),(g=function(){var e=this,i=arguments;return new Promise(function(t,n){var r=u.apply(e,i);function a(e){v(r,t,n,a,o,"next",e)}function o(e){v(r,t,n,a,o,"throw",e)}a(void 0)})}).apply(this,arguments)}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){b(t,e,n[e])})}return t}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t,n,r,a,o,i){try{var u=e[o](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,a)}function E(){return O.apply(this,arguments)}function O(){var u;return u=regeneratorRuntime.mark(function e(){var t,n,r,a,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),n=new Date(localStorage.getItem("expiryDate")),r=localStorage.getItem("userId"),a=parseInt(localStorage.getItem("privilege")),o=n>new Date,i={token:o&&t,userId:o&&r||"",privilege:o&&a||0,remainingMilliseconds:o&&n&&n.getTime()-(new Date).getTime()},e.abrupt("return",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:i,t=1<arguments.length?arguments[1]:void 0,n=y({},e);switch(t.type){case"LOGIN":localStorage.setItem("token",t.token),localStorage.setItem("expiryDate",t.expiryDate),localStorage.setItem("userId",t.userId),localStorage.setItem("privilege",t.privilege),n.token=t.token,n.userId=t.userId,n.privilege=t.privilege;break;case"LOGOUT":localStorage.removeItem("token"),localStorage.removeItem("expiryDate"),localStorage.removeItem("userId"),localStorage.removeItem("privilege"),n.token=null,n.userId=null,n.privilege=null}return n});case 7:case"end":return e.stop()}},e,this)}),(O=function(){var e=this,i=arguments;return new Promise(function(t,n){var r=u.apply(e,i);function a(e){w(r,t,n,a,o,"next",e)}function o(e){w(r,t,n,a,o,"throw",e)}a(void 0)})}).apply(this,arguments)}var k=n(160),j=n.n(k),x=n(113),S=function(t){j()("https://wiakc.herokuapp.com").on("events",function(e){"create"===e.action?t.dispatch({type:"EVENT",events:e.events}):"update"===e.action?t.dispatch({type:"EVENT",events:e.events}):"delete"===e.action&&t.dispatch({type:"EVENT",events:e.events})});var e=t.getState().user.remainingMilliseconds;e&&setTimeout(function(){t.dispatch(x.b)},e)};function T(e,t,n,r,a,o,i){try{var u=e[o](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,a)}var P=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||c.d,_=function(){var u,t=(u=regeneratorRuntime.mark(function e(t){var n,r,a,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:return n=e.sent,e.next=5,E();case 5:return r=e.sent,e.next=8,h();case 8:return a=e.sent,o=Object(c.c)({common:n,user:r,home:a}),i=t&&"undefined"==typeof window?Object(c.e)(o,P(Object(c.a)(s.a))):window.storen?window.store:window.store=Object(c.e)(o,P(Object(c.a)(s.a))),S(i),e.abrupt("return",i);case 13:case"end":return e.stop()}},e,this)}),function(){var e=this,i=arguments;return new Promise(function(t,n){var r=u.apply(e,i);function a(e){T(r,t,n,a,o,"next",e)}function o(e){T(r,t,n,a,o,"throw",e)}a(void 0)})});return function(e){return t.apply(this,arguments)}}(),N=n(53),I=n.n(N),D=function(){return a.a.createElement("div",null)},R=n(59),M=n.n(R),A=n(1),C=n.n(A),L=n(367),V=n(43),B=function(e){var t=e.isAuth,n=e.data,r=e.setModal;return a.a.createElement("nav",{className:"navigation section--down"},a.a.createElement(M.a,{className:"navigation__logo",image:n.logo}),a.a.createElement("span",{className:"navigation__title"},n.shortName),a.a.createElement("span",{className:"navigation__links"},n.links.map(function(e,t){return a.a.createElement(L.a,{key:t,className:"navigation__links--link",to:e.href},e.display)}),a.a.createElement("a",{className:"navigation__links--link pointer",onClick:r},t?"Account":"Login")))};B.propTypes={isAuth:C.a.number,data:C.a.object.isRequired,setModal:C.a.func.isRequired};var q=Object(u.b)(function(e){return{isAuth:e.user.privilege,data:e.common.marginals}},function(e){return{setModal:function(){return e(Object(V.e)(3))}}})(B),J=I()({loader:function(){return n.e(5).then(n.bind(null,372))},loading:D}),G=I()({loader:function(){return Promise.all([n.e(2),n.e(4)]).then(n.bind(null,373))},loading:D}),U=I()({loader:function(){return n.e(3).then(n.bind(null,375))},loading:D}),z=function(e){var t,n=e.modal,r=e.setModalClose;switch(n){case 1:t=a.a.createElement(J,null);break;case 2:t=a.a.createElement(G,null);break;case 3:t=a.a.createElement(U,null);break;default:t=null}return t?a.a.createElement("div",{className:"modal",onClick:r},a.a.createElement("div",{className:"modal__content"},t)):null};z.propTypes={modal:C.a.number,setModalClose:C.a.func.isRequired};var X=Object(u.b)(function(e){return{modal:e.common.modal}},function(t){return{setModalClose:function(e){e.target===e.currentTarget&&(e.preventDefault(),t(Object(V.e)(0)))}}})(z),F=function(e){var t=e.data;return a.a.createElement("footer",{className:"section footer",id:"footer"},a.a.createElement("div",{className:"footer__logobox"},a.a.createElement(M.a,{className:"footer__logobox--logo",image:t.logo}),a.a.createElement("h2",{className:"section__title"},t.title)),a.a.createElement("div",{className:"footer__data"},a.a.createElement("p",null,a.a.createElement("a",{href:"https://twitter.com/".concat(t.twitter)},"@",t.twitter)),a.a.createElement("p",null,a.a.createElement("a",{href:"mailto:"+t.email},t.email)),a.a.createElement("p",null,a.a.createElement("a",{href:"tel:"+t.phone.replace("-","")},t.phone)),a.a.createElement("p",null,a.a.createElement("a",{href:t.geo,target:"_blank",rel:"noopener noreferrer"},t.address))))};F.propTypes={data:C.a.object.isRequired};var H=Object(u.b)(function(e){return{data:e.common.marginals}})(F),K=n(366),Q=n(368),W=n(162),Y=I()({loader:function(){return n.e(6).then(n.bind(null,374))},loading:D}),Z=function(){return a.a.createElement(K.a,null,a.a.createElement("div",null,a.a.createElement(X,null),a.a.createElement(q,null),a.a.createElement("div",{className:"main-layout"},a.a.createElement("main",{className:"main-layout__body"},a.a.createElement(Q.a,null,a.a.createElement(W.a,{exact:!0,path:"/",component:Y}))),a.a.createElement(H,null))))};_().then(function(e){i.a.render(a.a.createElement(function(){return a.a.createElement(u.a,{store:e},a.a.createElement(Z,null))},null),document.getElementById("content"))})},43:function(e,t,n){"use strict";function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){a(t,e,n[e])})}return t}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t,n,r,a,o,i){try{var u=e[o](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,a)}function r(u){return function(){var e=this,i=arguments;return new Promise(function(t,n){var r=u.apply(e,i);function a(e){c(r,t,n,a,o,"next",e)}function o(e){c(r,t,n,a,o,"throw",e)}a(void 0)})}}n.d(t,"e",function(){return o}),n.d(t,"d",function(){return u}),n.d(t,"c",function(){return s}),n.d(t,"a",function(){return l}),n.d(t,"f",function(){return f}),n.d(t,"b",function(){return p});var o=function(e){return{type:"SET_MODAL",modal:e}},u=function(e){return{type:"SET_EVENT",event:e}},s=function(){return function(t){return fetch("https://wiakc.herokuapp.com/calendar/events").then(function(e){return e.json()}).then(function(e){return t({type:"EVENTS",events:e.events})})}},l=function(o){return function(){var n=r(regeneratorRuntime.mark(function e(t,n){var r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=JSON.stringify(o),e.next=3,fetch("https://wiakc.herokuapp.com/calendar/event",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+n().user.token},body:r});case 3:if(200!==(a=e.sent).status&&201!==a.status)throw new Error(a.message||a.data);e.next=8;break;case 8:return e.t0=t,e.t1=i,e.t2={type:"EVENTS"},e.next=13,a.json();case 13:e.t3=e.sent,e.t4=(0,e.t1)(e.t2,e.t3),(0,e.t0)(e.t4),t(u(null));case 17:case"end":return e.stop()}},e,this)}));return function(e,t){return n.apply(this,arguments)}}()},f=function(o){return function(){var n=r(regeneratorRuntime.mark(function e(t,n){var r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=JSON.stringify(o),e.next=3,fetch("https://wiakc.herokuapp.com/calendar/event/"+n().common.event._id,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+n().user.token},body:r});case 3:if(200!==(a=e.sent).status&&201!==a.status)throw new Error(a.message||a.data);e.next=8;break;case 8:return e.t0=t,e.t1=i,e.t2={type:"EVENTS"},e.next=13,a.json();case 13:e.t3=e.sent,e.t4=(0,e.t1)(e.t2,e.t3),(0,e.t0)(e.t4),t(u(null));case 17:case"end":return e.stop()}},e,this)}));return function(e,t){return n.apply(this,arguments)}}()},p=function(){return function(){var n=r(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://wiakc.herokuapp.com/calendar/event/"+n().common.event._id,{method:"DELETE",headers:{Authorization:"Bearer "+n().user.token}});case 2:if(200!==(r=e.sent).status&&201!==r.status)throw new Error(r.message||r.data);e.next=7;break;case 7:return e.t0=t,e.t1=i,e.t2={type:"EVENTS"},e.next=12,r.json();case 12:e.t3=e.sent,e.t4=(0,e.t1)(e.t2,e.t3),(0,e.t0)(e.t4),t(u(null));case 16:case"end":return e.stop()}},e,this)}));return function(e,t){return n.apply(this,arguments)}}()}}});
//# sourceMappingURL=index.js.map