(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{372:function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",function(){return o});var o=function(t){return t&&t.data&&t.data.reduce(function(t,e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),o.forEach(function(t){r(e,t,n[t])})}return e}({},t,r({},e.param,e.msg))},{})}},375:function(t,e,n){"use strict";n.d(e,"d",function(){return r}),n.d(e,"c",function(){return u}),n.d(e,"a",function(){return p}),n.d(e,"e",function(){return f}),n.d(e,"b",function(){return l});var a=n(14);function i(t,e,n,o,r,a,c){try{var u=t[a](c),i=u.value}catch(t){return void n(t)}u.done?e(i):Promise.resolve(i).then(o,r)}function c(u){return function(){var t=this,c=arguments;return new Promise(function(e,n){var o=u.apply(t,c);function r(t){i(o,e,n,r,a,"next",t)}function a(t){i(o,e,n,r,a,"throw",t)}r(void 0)})}}var o=function(t){return{type:"SET_POST",post:t}},r=function(e){return function(t){t({type:"SET_POSTS_PAGE",page:e}),t(s())}},u=function(t){return function(e){e(o(void 0)),fetch("https://wiakc.herokuapp.com/feed/post/"+t).then(function(t){return t.json()}).then(function(t){return e(o(t.post))}).catch(function(t){return e(Object(a.a)(t))})}},s=function(){return function(e,t){fetch("https://wiakc.herokuapp.com/feed/posts?page="+t().feed.page).then(function(t){return t.json()}).then(function(t){e({type:"GET_POSTS",posts:t.posts,totalItems:t.totalItems,itemsPerPage:t.itemsPerPage})}).catch(function(t){return e(Object(a.a)(t))})}},p=function(n){return function(o,t){var e=JSON.stringify(n);fetch("https://wiakc.herokuapp.com/feed/post",{method:"POST",headers:{"Content-Type":"application/json",Authorization:t().user.token},body:e}).then(function(){var e=c(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.json();case 2:n=t.sent,201!==e.status&&o(Object(a.a)(n));case 4:case"end":return t.stop()}},t,this)}));return function(t){return e.apply(this,arguments)}}()).catch(function(t){return o(Object(a.a)(t))})}},f=function(n,r){return function(o,t){var e=JSON.stringify(r);fetch("https://wiakc.herokuapp.com/feed/post/"+n,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:t().user.token},body:e}).then(function(){var e=c(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.json();case 2:n=t.sent,200!==e.status&&o(Object(a.a)(n));case 4:case"end":return t.stop()}},t,this)}));return function(t){return e.apply(this,arguments)}}()).catch(function(t){return o(Object(a.a)(t))})}},l=function(e){return function(o,t){return fetch("https://wiakc.herokuapp.com/feed/post/"+e,{method:"DELETE",headers:{Authorization:t().user.token}}).then(function(){var e=c(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.json();case 2:n=t.sent,200!==e.status&&o(Object(a.a)(n));case 4:case"end":return t.stop()}},t,this)}));return function(t){return e.apply(this,arguments)}}()).catch(function(t){return o(Object(a.a)(t))})}}},380:function(t,e,n){"use strict";var o=n(1),r=n.n(o),a=n(2),c=n.n(a),u=n(387),i=function(t){var e=t.post,n=t.onClick;return r.a.createElement("div",{className:"posts__post",onClick:n},r.a.createElement("h1",{className:"posts__post--title"},e.title),r.a.createElement("h2",{className:"posts__post--author"},e.creator.name),r.a.createElement("h6",{className:"posts__post--date"},e.updatedAt),r.a.createElement(u,{className:"posts__post--content",source:e.content}))};i.propTypes={post:c.a.object,onClick:c.a.func},e.a=i},386:function(t,e,n){"use strict";var o=n(1),r=n.n(o),a=n(24),c=n(2),u=n.n(c),i=n(375),s=n(372),p=n(480);function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d=function(t){function u(){var t,n,e,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return e=this,o=(t=m(u)).call.apply(t,[this].concat(a)),h(y(y(n=!o||"object"!==f(o)&&"function"!=typeof o?y(e):o)),"state",{title:n.props.post&&n.props.post.title||"",content:n.props.post&&n.props.post.content||""}),h(y(y(n)),"onChange",function(t){return n.setState(h({},t.target.name,t.target.value))}),h(y(y(n)),"onSumbit",function(e){return function(t){switch(t.preventDefault(),e){case 0:n.props.addPost(n.state);break;case 1:n.props.updatePost(n.props.post._id,n.state);break;case 2:n.props.deletePost(n.props.post._id),n.props.history.push("/feed")}n.props.post||n.setState({title:"",content:""})}}),n}var e,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}(u,r.a.Component),e=u,(n=[{key:"render",value:function(){var t=this.props.errors,e=this.state,n=e.content,o=e.title;return r.a.createElement("div",{className:"post"},r.a.createElement("div",{className:"post__form"},r.a.createElement("input",{className:"post__form--title",value:o,onChange:this.onChange,type:"text",placeholder:"New Post Title",name:"title"}),t&&t.title&&r.a.createElement("p",{className:"post__form--invalid"},t.title)),r.a.createElement("div",{className:"post__form"},r.a.createElement("textarea",{className:"post__form--content",value:n,onChange:this.onChange,placeholder:"Share a recipe, experience, or anything else!",name:"content"}),t&&t.content&&r.a.createElement("p",{className:"post__form--invalid"},t.content)),this.props.post&&r.a.createElement("div",{className:"buttons"},r.a.createElement("button",{className:"post__form--btn post__form--btn--update",onClick:this.onSumbit(1)},"Update Post"),r.a.createElement("button",{className:"post__form--btn post__form--btn--delete",onClick:this.onSumbit(2)},"Delete Post"))||r.a.createElement("div",{className:"buttons"},r.a.createElement("button",{className:"post__form--btn post__form--btn--add",onClick:this.onSumbit(0)},"Add Post")))}}])&&l(e.prototype,n),o&&l(e,o),u}(),v={addPost:function(t){return Object(i.a)(t)},updatePost:function(t,e){return Object(i.e)(t,e)},deletePost:function(t){return Object(i.b)(t)}};d.propTypes={post:u.a.object,addPost:u.a.func.isRequired,updatePost:u.a.func.isRequired,deletePost:u.a.func.isRequired,errors:u.a.object,history:u.a.object},e.a=Object(a.b)(function(t){return{errors:Object(s.a)(t.common.errors)}},v)(Object(p.a)(d))},487:function(t,e,n){"use strict";n.r(e);var a=n(1),c=n.n(a),o=n(2),r=n.n(o),i=n(386),u=n(480),s=n(24),p=n(375),f=n(380);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function b(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var d,v,_,O=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),b(this,y(e).apply(this,arguments))}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,a["Component"]),n=e,(o=[{key:"render",value:function(){var t=this.props,e=t.comment,n=e.content,o=e.creator.name,r=t.ownsComment;return c.a.createElement("div",null,c.a.createElement("p",null,n," by ",o),c.a.createElement("p",null,"Owner: ",r))}}])&&m(n.prototype,o),r&&m(n,r),e}();d=O,v="propTypes",_={comment:r.a.object,ownsComment:r.a.bool,postId:r.a.string},v in d?Object.defineProperty(d,v,{value:_,enumerable:!0,configurable:!0,writable:!0}):d[v]=_;var j=Object(s.b)(function(t,e){return{ownsComment:e.creator.userId===t.user.userId}},{})(O),w=n(372);function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function P(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function E(t){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function S(t,e){return(S=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function k(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var N=function(t){function u(){var t,n,e,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return e=this,o=(t=E(u)).call.apply(t,[this].concat(a)),C(k(k(n=!o||"object"!==g(o)&&"function"!=typeof o?k(e):o)),"state",{content:n.props.comment&&n.props.comment.content||""}),C(k(k(n)),"onChange",function(t){return n.setState(C({},t.target.name,t.target.value))}),C(k(k(n)),"onSumbit",function(e){return function(t){switch(t.preventDefault(),e){case 0:n.props.addComment(n.state);break;case 1:n.props.updateComment(n.props.postId,n.props.comment._id,n.state);break;case 2:n.props.deleteComment(n.props.postId,n.props.comment._id)}n.props.comment||n.setState({content:""})}}),n}var e,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&S(t,e)}(u,c.a.Component),e=u,(n=[{key:"render",value:function(){var t=this.props.errors,e=this.state.content;return c.a.createElement("div",{className:"comment"},c.a.createElement("div",{className:"comment__form"},c.a.createElement("textarea",{className:"comment__form--content",value:e,onChange:this.onChange,placeholder:"Share a recipe, experience, or anything else!",name:"content"}),t&&t.content&&c.a.createElement("p",{className:"comment__form--invalid"},t.content)),this.props.comment&&c.a.createElement("div",{className:"buttons"},c.a.createElement("button",{className:"comment__form--btn comment__form--btn--update",onClick:this.onSumbit(1)},"Update Comment"),c.a.createElement("button",{className:"comment__form--btn comment__form--btn--delete",onClick:this.onSumbit(2)},"Delete Comment"))||c.a.createElement("div",{className:"buttons"},c.a.createElement("button",{className:"comment__form--btn comment__form--btn--add",onClick:this.onSumbit(0)},"Add Comment")))}}])&&P(e.prototype,n),o&&P(e,o),u}(),T={addComment:function(t){},updateComment:function(t,e){},deleteComment:function(t){}};N.propTypes={postId:r.a.string,comment:r.a.object,addComment:r.a.func.isRequired,updateComment:r.a.func.isRequired,deleteComment:r.a.func.isRequired,errors:r.a.object};var x=Object(s.b)(function(t){return{errors:Object(w.a)(t.common.errors)}},T)(N);function R(t){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function I(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function A(t){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function D(t,e){return(D=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function q(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function J(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"PostPage",function(){return z});var z=function(t){function u(){var t,e,n,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return n=this,J(q(q(e=!(o=(t=A(u)).call.apply(t,[this].concat(a)))||"object"!==R(o)&&"function"!=typeof o?q(n):o)),"state",{postId:e.props.match.params.postId}),e}var e,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&D(t,e)}(u,a["Component"]),e=u,(n=[{key:"componentDidMount",value:function(){this.props.getPost(this.state.postId)}},{key:"render",value:function(){var n=this;return c.a.createElement("div",null,this.props.post&&c.a.createElement("div",null,c.a.createElement(i.a,{post:this.props.post}),c.a.createElement(f.a,{post:this.props.post}),c.a.createElement(x,{postId:this.props.post._id}),this.props.post.comments.map(function(t,e){return c.a.createElement(j,{key:e,comment:t,postId:n.props.post._id})}))||"No post found.")}}])&&I(e.prototype,n),o&&I(e,o),u}();J(z,"propTypes",{post:r.a.object,match:r.a.object,getPost:r.a.func});var U={getPost:function(t){return Object(p.c)(t)}};e.default=Object(s.b)(function(t){return{post:t.feed.post}},U)(Object(u.a)(z))}}]);
//# sourceMappingURL=5.js.map