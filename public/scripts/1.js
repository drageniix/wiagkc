(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{377:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return o});var o=function(e){return e&&e.data&&e.data.reduce(function(e,t){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(e){r(t,e,n[e])})}return t}({},e,r({},t.param,t.msg))},{})}},379:function(e,t,n){"use strict";n.d(t,"d",function(){return s}),n.d(t,"f",function(){return u}),n.d(t,"e",function(){return p}),n.d(t,"c",function(){return l}),n.d(t,"a",function(){return d}),n.d(t,"g",function(){return h}),n.d(t,"b",function(){return m});var a=n(47),o=n(3);function c(e,t,n,o,r,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(o,r)}function i(s){return function(){var e=this,i=arguments;return new Promise(function(t,n){var o=s.apply(e,i);function r(e){c(o,t,n,r,a,"next",e)}function a(e){c(o,t,n,r,a,"throw",e)}r(void 0)})}}var r=function(e){return{type:o.r,post:e}},s=function(e){return{type:o.m,editing:e}},u=function(t){return function(e){e({type:o.t,query:t}),e(p(1))}},p=function(t){return function(e){e({type:o.s,page:t}),e(f())}},l=function(e){return function(t){t(r(void 0)),t(Object(a.b)(!0)),fetch("https://wiakc.herokuapp.com/feed/post/"+e).then(function(e){return e.json()}).then(function(e){t(Object(a.b)(!1)),t(r(e.post))}).catch(function(e){t(Object(a.b)(!1)),t(Object(a.a)(e))})}},f=function(){return function(t,e){t(Object(a.b)(!0)),fetch("https://wiakc.herokuapp.com/feed/posts?page=".concat(e().feed.page,"&q=").concat(e().feed.query)).then(function(e){return e.json()}).then(function(e){t(Object(a.b)(!1)),t({type:o.i,posts:e.posts,totalItems:e.totalItems,itemsPerPage:e.itemsPerPage})}).catch(function(e){t(Object(a.b)(!1)),t(Object(a.a)(e))})}},d=function(n){return function(o,e){var t=JSON.stringify(n);fetch("https://wiakc.herokuapp.com/feed/post",{method:"POST",headers:{"Content-Type":"application/json",Authorization:e().user.token},body:t}).then(function(){var t=i(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,201!==t.status&&o(Object(a.a)(n));case 4:case"end":return e.stop()}},e,this)}));return function(e){return t.apply(this,arguments)}}()).catch(function(e){return o(Object(a.a)(e))})}},h=function(n,r){return function(o,e){var t=JSON.stringify(r);fetch("https://wiakc.herokuapp.com/feed/post/"+n,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:e().user.token},body:t}).then(function(){var t=i(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,200!==t.status?o(Object(a.a)(n)):o(s(""));case 4:case"end":return e.stop()}},e,this)}));return function(e){return t.apply(this,arguments)}}()).catch(function(e){return o(Object(a.a)(e))})}},m=function(t){return function(o,e){return fetch("https://wiakc.herokuapp.com/feed/post/"+t,{method:"DELETE",headers:{Authorization:e().user.token}}).then(function(){var t=i(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,200!==t.status&&o(Object(a.a)(n));case 4:case"end":return e.stop()}},e,this)}));return function(e){return t.apply(this,arguments)}}()).catch(function(e){return o(Object(a.a)(e))})}}},380:function(e,t,n){"use strict";var o=n(0),r=n.n(o),a=n(2),i=function(e){var t=e.className;return r.a.createElement("div",{className:t||"loading-icon"},r.a.createElement("img",{src:"https://i.gifer.com/ZNeS.gif",className:"loading-icon"}),r.a.createElement("h4",{className:"centered"},"Loading!"))};i.propTypes={className:n.n(a).a.string},t.a=i},386:function(e,t,n){"use strict";t.__esModule=!0;var o=n(392);t.default=o.TextareaAutosize},392:function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),u=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},p=this&&this.__rest||function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&(n[o[r]]=e[o[r]])}return n};t.__esModule=!0;var a=n(0),i=n(2),s=n(393),l=n(394),f="autosize:update",d="autosize:destroy",h="autosize:resized",c=function(e){function t(){var c=null!==e&&e.apply(this,arguments)||this;return c.state={lineHeight:null},c.dispatchEvent=function(e){switch(e){case f:s.update(c.textarea);break;case d:s.destroy(c.textarea);break;case h:var t=document.createEvent("Event");t.initEvent(h,!0,!1),c.textarea.dispatchEvent(t)}},c.updateLineHeight=function(){c.setState({lineHeight:l(c.textarea)})},c.onChange=function(e){var t=c.props.onChange;c.currentValue=e.currentTarget.value,t&&t(e)},c.saveDOMNodeRef=function(e){var t=c.props.innerRef;t&&t(e),c.textarea=e},c.getLocals=function(){var e=c,t=e.props,n=(t.onResize,t.maxRows),o=(t.onChange,t.style),r=(t.innerRef,p(t,["onResize","maxRows","onChange","style","innerRef"])),a=e.state.lineHeight,i=e.saveDOMNodeRef,s=n&&a?a*n:null;return u({},r,{saveDOMNodeRef:i,style:s?u({},o,{maxHeight:s}):o,onChange:c.onChange})},c}return r(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.onResize,o=t.maxRows,r=t.async;"number"==typeof o&&this.updateLineHeight(),"number"==typeof o||r?setTimeout(function(){return s(e.textarea)}):s(this.textarea),n&&this.textarea.addEventListener(h,n)},t.prototype.componentWillUnmount=function(){var e=this.props.onResize;e&&this.textarea.removeEventListener(h,e),this.dispatchEvent(d)},t.prototype.render=function(){var e=this.getLocals(),t=e.children,n=e.saveDOMNodeRef,o=p(e,["children","saveDOMNodeRef"]);return a.createElement("textarea",u({},o,{ref:n}),t)},t.prototype.componentDidUpdate=function(){this.dispatchEvent(f)},t.defaultProps={rows:1,async:!1},t.propTypes={rows:i.number,maxRows:i.number,onResize:i.func,innerRef:i.func,async:i.bool},t}(a.Component);t.TextareaAutosize=c},393:function(e,t,n){var o,r,a;
/*!
	autosize 4.0.2
	license: MIT
	http://www.jacklmoore.com/autosize
*/r=[e,t],void 0===(a="function"==typeof(o=function(e,t){"use strict";var n,o,p="function"==typeof Map?new Map:(n=[],o=[],{has:function(e){return-1<n.indexOf(e)},get:function(e){return o[n.indexOf(e)]},set:function(e,t){-1===n.indexOf(e)&&(n.push(e),o.push(t))},delete:function(e){var t=n.indexOf(e);-1<t&&(n.splice(t,1),o.splice(t,1))}}),l=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(e){l=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}function r(r){if(r&&r.nodeName&&"TEXTAREA"===r.nodeName&&!p.has(r)){var n=null,o=null,a=null,e=function(){r.clientWidth!==o&&u()},i=function(t){window.removeEventListener("resize",e,!1),r.removeEventListener("input",u,!1),r.removeEventListener("keyup",u,!1),r.removeEventListener("autosize:destroy",i,!1),r.removeEventListener("autosize:update",u,!1),Object.keys(t).forEach(function(e){r.style[e]=t[e]}),p.delete(r)}.bind(r,{height:r.style.height,resize:r.style.resize,overflowY:r.style.overflowY,overflowX:r.style.overflowX,wordWrap:r.style.wordWrap});r.addEventListener("autosize:destroy",i,!1),"onpropertychange"in r&&"oninput"in r&&r.addEventListener("keyup",u,!1),window.addEventListener("resize",e,!1),r.addEventListener("input",u,!1),r.addEventListener("autosize:update",u,!1),r.style.overflowX="hidden",r.style.wordWrap="break-word",p.set(r,{destroy:i,update:u}),"vertical"===(t=window.getComputedStyle(r,null)).resize?r.style.resize="none":"both"===t.resize&&(r.style.resize="horizontal"),n="content-box"===t.boxSizing?-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),isNaN(n)&&(n=0),u()}var t;function s(e){var t=r.style.width;r.style.width="0px",r.offsetWidth,r.style.width=t,r.style.overflowY=e}function c(){if(0!==r.scrollHeight){var e=function(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}(r),t=document.documentElement&&document.documentElement.scrollTop;r.style.height="",r.style.height=r.scrollHeight+n+"px",o=r.clientWidth,e.forEach(function(e){e.node.scrollTop=e.scrollTop}),t&&(document.documentElement.scrollTop=t)}}function u(){c();var e=Math.round(parseFloat(r.style.height)),t=window.getComputedStyle(r,null),n="content-box"===t.boxSizing?Math.round(parseFloat(t.height)):r.offsetHeight;if(n<e?"hidden"===t.overflowY&&(s("scroll"),c(),n="content-box"===t.boxSizing?Math.round(parseFloat(window.getComputedStyle(r,null).height)):r.offsetHeight):"hidden"!==t.overflowY&&(s("hidden"),c(),n="content-box"===t.boxSizing?Math.round(parseFloat(window.getComputedStyle(r,null).height)):r.offsetHeight),a!==n){a=n;var o=l("autosize:resized");try{r.dispatchEvent(o)}catch(e){}}}}function a(e){var t=p.get(e);t&&t.destroy()}function i(e){var t=p.get(e);t&&t.update()}var s=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((s=function(e){return e}).destroy=function(e){return e},s.update=function(e){return e}):((s=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],function(e){return r(e)}),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],a),e},s.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],i),e}),t.default=s,e.exports=t.default})?o.apply(t,r):o)||(e.exports=a)},394:function(e,t,n){var c=n(395);e.exports=function(e){var t=c(e,"line-height"),n=parseFloat(t,10);if(t===n+""){var o=e.style.lineHeight;e.style.lineHeight=t+"em",t=c(e,"line-height"),n=parseFloat(t,10),o?e.style.lineHeight=o:delete e.style.lineHeight}if(-1!==t.indexOf("pt")?(n*=4,n/=3):-1!==t.indexOf("mm")?(n*=96,n/=25.4):-1!==t.indexOf("cm")?(n*=96,n/=2.54):-1!==t.indexOf("in")?n*=96:-1!==t.indexOf("pc")&&(n*=16),n=Math.round(n),"normal"===t){var r=e.nodeName,a=document.createElement(r);a.innerHTML="&nbsp;","TEXTAREA"===r.toUpperCase()&&a.setAttribute("rows","1");var i=c(e,"font-size");a.style.fontSize=i,a.style.padding="0px",a.style.border="0px";var s=document.body;s.appendChild(a),n=a.offsetHeight,s.removeChild(a)}return n}},395:function(e,t){e.exports=function(e,t,n){return((n=window.getComputedStyle)?n(e):e.currentStyle)[t.replace(/-(\w)/gi,function(e,t){return t.toUpperCase()})]}},403:function(e,t,n){"use strict";var o=n(0),i=n.n(o),r=n(2),a=n.n(r),s=n(383),c=n.n(s),u=n(379),p=n(25),l=n(375),f=function(e){var t=e.post,n=e.setEditing,o=e.editable,r=e.history,a=e.fromFeed;return i.a.createElement("div",{className:"post "+(a?"post__feed":""),onClick:function(){return o&&n(t._id)||r.push("/feed/"+t._id)}},i.a.createElement(c.a,{className:"post__title"},t.title),i.a.createElement(c.a,{className:"post__content",source:a?t.content.substring(0,500)+(500<t.content.length?"...":""):t.content}),i.a.createElement("h2",{className:"post__author"},t.creator.name),i.a.createElement("h6",{className:"post__date"},t.updatedAt),i.a.createElement("h6",{className:"post__comments"},t.comments.length," Comment",1===t.comments.length?"":"s"))};f.propTypes={post:a.a.object,setEditing:a.a.func,editable:a.a.bool,history:a.a.object,fromFeed:a.a.bool};var d={setEditing:u.d};t.a=Object(p.b)(null,d)(Object(l.a)(f))},404:function(e,t,n){"use strict";var o=n(0),c=n.n(o),r=n(25),a=n(2),i=n.n(a),s=n(379),u=n(377),p=n(375),l=n(386),f=n.n(l);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){function s(){var e,n,t,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return t=this,o=(e=m(s)).call.apply(e,[this].concat(a)),b(v(v(n=!o||"object"!==d(o)&&"function"!=typeof o?v(t):o)),"state",{title:n.props.post&&n.props.post.title||"",content:n.props.post&&n.props.post.content||""}),b(v(v(n)),"onChange",function(e){return n.setState(b({},e.target.name,e.target.value))}),b(v(v(n)),"onSumbit",function(t){return function(e){switch(e.preventDefault(),t){case 0:n.props.addPost(n.state);break;case 1:n.props.updatePost(n.props.post._id,n.state);break;case 2:n.props.deletePost(n.props.post._id),n.props.history.push("/feed")}n.props.post||n.setState({title:"",content:""})}}),n}var t,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(s,c.a.Component),t=s,(n=[{key:"render",value:function(){var e=this.props,t=e.errors,n=e.setEditing,o=e.post,r=this.state,a=r.content,i=r.title;return c.a.createElement("div",{className:"post-form__container"},!!o&&c.a.createElement("svg",{className:"icon icon--cancel pointer",onClick:function(){return n("")},viewBox:"0 0 32 32"},c.a.createElement("title",null,"Cancel Editing"),c.a.createElement("path",{d:"M16 0c-8.837 0-16 7.163-16 16s7.163 16 16 16 16-7.163 16-16-7.163-16-16-16zM16 29c-7.18 0-13-5.82-13-13s5.82-13 13-13 13 5.82 13 13-5.82 13-13 13z"}),c.a.createElement("path",{d:"M21 8l-5 5-5-5-3 3 5 5-5 5 3 3 5-5 5 5 3-3-5-5 5-5z"})),c.a.createElement("div",{className:"post-form"},c.a.createElement("input",{className:"post-form__title",value:i,onChange:this.onChange,type:"text",placeholder:"New Post Title",name:"title"}),t&&t.title&&c.a.createElement("p",{className:"post-form__invalid"},t.title)),c.a.createElement("div",{className:"post-form"},c.a.createElement(f.a,{rows:10,className:"post-form__content",value:a,onChange:this.onChange,placeholder:"Share meeting minutes, cultural events, recipes, or anything else!",name:"content"}),t&&t.content&&c.a.createElement("p",{className:"post-form__invalid"},t.content)),this.props.post&&c.a.createElement("div",{className:"post-form__buttons"},c.a.createElement("button",{className:"btn btn--update",onClick:this.onSumbit(1)},"Update"),c.a.createElement("button",{className:"btn btn--delete",onClick:this.onSumbit(2)},"Delete"))||c.a.createElement("div",{className:"post-form__buttons"},c.a.createElement("button",{className:"btn btn--add",onClick:this.onSumbit(0)},"Add Post")))}}])&&h(t.prototype,n),o&&h(t,o),s}(),w={addPost:s.a,updatePost:s.g,deletePost:s.b,setEditing:s.d};g.propTypes={post:i.a.object,addPost:i.a.func.isRequired,updatePost:i.a.func.isRequired,deletePost:i.a.func.isRequired,errors:i.a.object,history:i.a.object,setEditing:i.a.func},t.a=Object(r.b)(function(e){return{errors:Object(u.a)(e.common.errors)}},w)(Object(p.a)(g))}}]);
//# sourceMappingURL=1.js.map