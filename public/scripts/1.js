(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{373:function(e,t,n){"use strict";function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return r});var r=function(e){return e&&e.data&&e.data.reduce(function(e,t){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){o(t,e,n[e])})}return t}({},e,o({},t.param,t.msg))},{})}},375:function(e,t,n){"use strict";n.d(t,"d",function(){return s}),n.d(t,"f",function(){return o}),n.d(t,"e",function(){return u}),n.d(t,"c",function(){return p}),n.d(t,"a",function(){return f}),n.d(t,"g",function(){return d}),n.d(t,"b",function(){return h});var a=n(15);function c(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function i(s){return function(){var e=this,i=arguments;return new Promise(function(t,n){var r=s.apply(e,i);function o(e){c(r,t,n,o,a,"next",e)}function a(e){c(r,t,n,o,a,"throw",e)}o(void 0)})}}var r=function(e){return{type:"SET_POST",post:e}},s=function(e){return{type:"SET_EDITING",editing:e}},o=function(t){return function(e){e({type:"SET_POSTS_QUERY",query:t}),e(u(1))}},u=function(t){return function(e){e({type:"SET_POSTS_PAGE",page:t}),e(l())}},p=function(e){return function(t){t(r(void 0)),t(Object(a.b)(!0)),fetch("https://wiakc.herokuapp.com/feed/post/"+e).then(function(e){return e.json()}).then(function(e){t(Object(a.b)(!1)),t(r(e.post))}).catch(function(e){t(Object(a.b)(!1)),t(Object(a.a)(e))})}},l=function(){return function(t,e){t(Object(a.b)(!0)),fetch("https://wiakc.herokuapp.com/feed/posts?page=".concat(e().feed.page,"&q=").concat(e().feed.query)).then(function(e){return e.json()}).then(function(e){t(Object(a.b)(!1)),t({type:"GET_POSTS",posts:e.posts,totalItems:e.totalItems,itemsPerPage:e.itemsPerPage})}).catch(function(e){t(Object(a.b)(!1)),t(Object(a.a)(e))})}},f=function(n){return function(r,e){var t=JSON.stringify(n);fetch("https://wiakc.herokuapp.com/feed/post",{method:"POST",headers:{"Content-Type":"application/json",Authorization:e().user.token},body:t}).then(function(){var t=i(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,201!==t.status&&r(Object(a.a)(n));case 4:case"end":return e.stop()}},e,this)}));return function(e){return t.apply(this,arguments)}}()).catch(function(e){return r(Object(a.a)(e))})}},d=function(n,o){return function(r,e){var t=JSON.stringify(o);fetch("https://wiakc.herokuapp.com/feed/post/"+n,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:e().user.token},body:t}).then(function(){var t=i(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,200!==t.status?r(Object(a.a)(n)):r(s(""));case 4:case"end":return e.stop()}},e,this)}));return function(e){return t.apply(this,arguments)}}()).catch(function(e){return r(Object(a.a)(e))})}},h=function(t){return function(r,e){return fetch("https://wiakc.herokuapp.com/feed/post/"+t,{method:"DELETE",headers:{Authorization:e().user.token}}).then(function(){var t=i(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,200!==t.status&&r(Object(a.a)(n));case 4:case"end":return e.stop()}},e,this)}));return function(e){return t.apply(this,arguments)}}()).catch(function(e){return r(Object(a.a)(e))})}}},376:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(2),i=function(e){var t=e.className;return o.a.createElement("div",{className:t||"loading-icon"},o.a.createElement("img",{src:"https://i.gifer.com/ZNeS.gif",className:"loading-icon"}),o.a.createElement("h4",{className:"centered"},"Loading!"))};i.propTypes={className:n.n(a).a.string},t.a=i},382:function(e,t,n){"use strict";t.__esModule=!0;var r=n(389);t.default=r.TextareaAutosize},388:function(e,t,n){"use strict";var u={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},p={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},l=Object.defineProperty,f=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,m=Object.getPrototypeOf,y=m&&m(Object);e.exports=function e(t,n,r){if("string"==typeof n)return t;if(y){var o=m(n);o&&o!==y&&e(t,o,r)}var a=f(n);d&&(a=a.concat(d(n)));for(var i=0;i<a.length;++i){var s=a[i];if(!(u[s]||p[s]||r&&r[s])){var c=h(n,s);try{l(t,s,c)}catch(e){}}}return t}},389:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),u=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},p=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};t.__esModule=!0;var a=n(0),i=n(2),s=n(390),l=n(391),f="autosize:update",d="autosize:destroy",h="autosize:resized",c=function(e){function t(){var c=null!==e&&e.apply(this,arguments)||this;return c.state={lineHeight:null},c.dispatchEvent=function(e){switch(e){case f:s.update(c.textarea);break;case d:s.destroy(c.textarea);break;case h:var t=document.createEvent("Event");t.initEvent(h,!0,!1),c.textarea.dispatchEvent(t)}},c.updateLineHeight=function(){c.setState({lineHeight:l(c.textarea)})},c.onChange=function(e){var t=c.props.onChange;c.currentValue=e.currentTarget.value,t&&t(e)},c.saveDOMNodeRef=function(e){var t=c.props.innerRef;t&&t(e),c.textarea=e},c.getLocals=function(){var e=c,t=e.props,n=(t.onResize,t.maxRows),r=(t.onChange,t.style),o=(t.innerRef,p(t,["onResize","maxRows","onChange","style","innerRef"])),a=e.state.lineHeight,i=e.saveDOMNodeRef,s=n&&a?a*n:null;return u({},o,{saveDOMNodeRef:i,style:s?u({},r,{maxHeight:s}):r,onChange:c.onChange})},c}return o(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.onResize,r=t.maxRows,o=t.async;"number"==typeof r&&this.updateLineHeight(),"number"==typeof r||o?setTimeout(function(){return s(e.textarea)}):s(this.textarea),n&&this.textarea.addEventListener(h,n)},t.prototype.componentWillUnmount=function(){var e=this.props.onResize;e&&this.textarea.removeEventListener(h,e),this.dispatchEvent(d)},t.prototype.render=function(){var e=this.getLocals(),t=e.children,n=e.saveDOMNodeRef,r=p(e,["children","saveDOMNodeRef"]);return a.createElement("textarea",u({},r,{ref:n}),t)},t.prototype.componentDidUpdate=function(){this.dispatchEvent(f)},t.defaultProps={rows:1,async:!1},t.propTypes={rows:i.number,maxRows:i.number,onResize:i.func,innerRef:i.func,async:i.bool},t}(a.Component);t.TextareaAutosize=c},390:function(e,t,n){var r,o,a;
/*!
	autosize 4.0.2
	license: MIT
	http://www.jacklmoore.com/autosize
*/o=[e,t],void 0===(a="function"==typeof(r=function(e,t){"use strict";var n,r,p="function"==typeof Map?new Map:(n=[],r=[],{has:function(e){return-1<n.indexOf(e)},get:function(e){return r[n.indexOf(e)]},set:function(e,t){-1===n.indexOf(e)&&(n.push(e),r.push(t))},delete:function(e){var t=n.indexOf(e);-1<t&&(n.splice(t,1),r.splice(t,1))}}),l=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(e){l=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}function o(o){if(o&&o.nodeName&&"TEXTAREA"===o.nodeName&&!p.has(o)){var n=null,r=null,a=null,e=function(){o.clientWidth!==r&&u()},i=function(t){window.removeEventListener("resize",e,!1),o.removeEventListener("input",u,!1),o.removeEventListener("keyup",u,!1),o.removeEventListener("autosize:destroy",i,!1),o.removeEventListener("autosize:update",u,!1),Object.keys(t).forEach(function(e){o.style[e]=t[e]}),p.delete(o)}.bind(o,{height:o.style.height,resize:o.style.resize,overflowY:o.style.overflowY,overflowX:o.style.overflowX,wordWrap:o.style.wordWrap});o.addEventListener("autosize:destroy",i,!1),"onpropertychange"in o&&"oninput"in o&&o.addEventListener("keyup",u,!1),window.addEventListener("resize",e,!1),o.addEventListener("input",u,!1),o.addEventListener("autosize:update",u,!1),o.style.overflowX="hidden",o.style.wordWrap="break-word",p.set(o,{destroy:i,update:u}),"vertical"===(t=window.getComputedStyle(o,null)).resize?o.style.resize="none":"both"===t.resize&&(o.style.resize="horizontal"),n="content-box"===t.boxSizing?-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),isNaN(n)&&(n=0),u()}var t;function s(e){var t=o.style.width;o.style.width="0px",o.offsetWidth,o.style.width=t,o.style.overflowY=e}function c(){if(0!==o.scrollHeight){var e=function(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}(o),t=document.documentElement&&document.documentElement.scrollTop;o.style.height="",o.style.height=o.scrollHeight+n+"px",r=o.clientWidth,e.forEach(function(e){e.node.scrollTop=e.scrollTop}),t&&(document.documentElement.scrollTop=t)}}function u(){c();var e=Math.round(parseFloat(o.style.height)),t=window.getComputedStyle(o,null),n="content-box"===t.boxSizing?Math.round(parseFloat(t.height)):o.offsetHeight;if(n<e?"hidden"===t.overflowY&&(s("scroll"),c(),n="content-box"===t.boxSizing?Math.round(parseFloat(window.getComputedStyle(o,null).height)):o.offsetHeight):"hidden"!==t.overflowY&&(s("hidden"),c(),n="content-box"===t.boxSizing?Math.round(parseFloat(window.getComputedStyle(o,null).height)):o.offsetHeight),a!==n){a=n;var r=l("autosize:resized");try{o.dispatchEvent(r)}catch(e){}}}}function a(e){var t=p.get(e);t&&t.destroy()}function i(e){var t=p.get(e);t&&t.update()}var s=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((s=function(e){return e}).destroy=function(e){return e},s.update=function(e){return e}):((s=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],function(e){return o(e)}),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],a),e},s.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],i),e}),t.default=s,e.exports=t.default})?r.apply(t,o):r)||(e.exports=a)},391:function(e,t,n){var c=n(392);e.exports=function(e){var t=c(e,"line-height"),n=parseFloat(t,10);if(t===n+""){var r=e.style.lineHeight;e.style.lineHeight=t+"em",t=c(e,"line-height"),n=parseFloat(t,10),r?e.style.lineHeight=r:delete e.style.lineHeight}if(-1!==t.indexOf("pt")?(n*=4,n/=3):-1!==t.indexOf("mm")?(n*=96,n/=25.4):-1!==t.indexOf("cm")?(n*=96,n/=2.54):-1!==t.indexOf("in")?n*=96:-1!==t.indexOf("pc")&&(n*=16),n=Math.round(n),"normal"===t){var o=e.nodeName,a=document.createElement(o);a.innerHTML="&nbsp;","TEXTAREA"===o.toUpperCase()&&a.setAttribute("rows","1");var i=c(e,"font-size");a.style.fontSize=i,a.style.padding="0px",a.style.border="0px";var s=document.body;s.appendChild(a),n=a.offsetHeight,s.removeChild(a)}return n}},392:function(e,t){e.exports=function(e,t,n){return((n=window.getComputedStyle)?n(e):e.currentStyle)[t.replace(/-(\w)/gi,function(e,t){return t.toUpperCase()})]}},400:function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(2),a=n.n(o),s=n(379),c=n.n(s),u=n(375),p=n(24),l=n(487),f=function(e){var t=e.post,n=e.setEditing,r=e.editable,o=e.history,a=e.fromFeed;return i.a.createElement("div",{className:"post "+(a?"post__feed":""),onClick:function(){return r&&n(t._id)||o.push("/feed/"+t._id)}},i.a.createElement(c.a,{className:"post__title"},t.title),i.a.createElement(c.a,{className:"post__content",source:a?t.content.substring(0,500)+(500<t.content.length?"...":""):t.content}),i.a.createElement("h2",{className:"post__author"},t.creator.name),i.a.createElement("h6",{className:"post__date"},t.updatedAt),i.a.createElement("h6",{className:"post__comments"},t.comments.length," Comment",1===t.comments.length?"":"s"))};f.propTypes={post:a.a.object,setEditing:a.a.func,editable:a.a.bool,history:a.a.object,fromFeed:a.a.bool};var d={setEditing:u.d};t.a=Object(p.b)(null,d)(Object(l.a)(f))},401:function(e,t,n){"use strict";var r=n(0),c=n.n(r),o=n(24),a=n(2),i=n.n(a),s=n(375),u=n(373),p=n(487),l=n(382),f=n.n(l);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){function s(){var e,n,t,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return t=this,r=(e=m(s)).call.apply(e,[this].concat(a)),b(v(v(n=!r||"object"!==d(r)&&"function"!=typeof r?v(t):r)),"state",{title:n.props.post&&n.props.post.title||"",content:n.props.post&&n.props.post.content||""}),b(v(v(n)),"onChange",function(e){return n.setState(b({},e.target.name,e.target.value))}),b(v(v(n)),"onSumbit",function(t){return function(e){switch(e.preventDefault(),t){case 0:n.props.addPost(n.state);break;case 1:n.props.updatePost(n.props.post._id,n.state);break;case 2:n.props.deletePost(n.props.post._id),n.props.history.push("/feed")}n.props.post||n.setState({title:"",content:""})}}),n}var t,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(s,c.a.Component),t=s,(n=[{key:"render",value:function(){var e=this.props,t=e.errors,n=e.setEditing,r=e.post,o=this.state,a=o.content,i=o.title;return c.a.createElement("div",{className:"post-form__container"},!!r&&c.a.createElement("svg",{className:"icon icon--cancel pointer",onClick:function(){return n("")},viewBox:"0 0 32 32"},c.a.createElement("title",null,"Cancel Editing"),c.a.createElement("path",{d:"M16 0c-8.837 0-16 7.163-16 16s7.163 16 16 16 16-7.163 16-16-7.163-16-16-16zM16 29c-7.18 0-13-5.82-13-13s5.82-13 13-13 13 5.82 13 13-5.82 13-13 13z"}),c.a.createElement("path",{d:"M21 8l-5 5-5-5-3 3 5 5-5 5 3 3 5-5 5 5 3-3-5-5 5-5z"})),c.a.createElement("div",{className:"post-form"},c.a.createElement("input",{className:"post-form__title",value:i,onChange:this.onChange,type:"text",placeholder:"New Post Title",name:"title"}),t&&t.title&&c.a.createElement("p",{className:"post-form__invalid"},t.title)),c.a.createElement("div",{className:"post-form"},c.a.createElement(f.a,{rows:10,className:"post-form__content",value:a,onChange:this.onChange,placeholder:"Share meeting minutes, cultural events, recipes, or anything else!",name:"content"}),t&&t.content&&c.a.createElement("p",{className:"post-form__invalid"},t.content)),this.props.post&&c.a.createElement("div",{className:"post-form__buttons"},c.a.createElement("button",{className:"btn btn--update",onClick:this.onSumbit(1)},"Update"),c.a.createElement("button",{className:"btn btn--delete",onClick:this.onSumbit(2)},"Delete"))||c.a.createElement("div",{className:"post-form__buttons"},c.a.createElement("button",{className:"btn btn--add",onClick:this.onSumbit(0)},"Add Post")))}}])&&h(t.prototype,n),r&&h(t,r),s}(),w={addPost:s.a,updatePost:s.g,deletePost:s.b,setEditing:s.d};g.propTypes={post:i.a.object,addPost:i.a.func.isRequired,updatePost:i.a.func.isRequired,deletePost:i.a.func.isRequired,errors:i.a.object,history:i.a.object,setEditing:i.a.func},t.a=Object(o.b)(function(e){return{errors:Object(u.a)(e.common.errors)}},w)(Object(p.a)(g))},487:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(2),i=n.n(a),s=n(388),c=n.n(s),u=n(117),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var l=function(r){var e=function(e){var t=e.wrappedComponentRef,n=function(e,t){var n={};for(var r in e)0<=t.indexOf(r)||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["wrappedComponentRef"]);return o.a.createElement(u.a,{children:function(e){return o.a.createElement(r,p({},n,e,{ref:t}))}})};return e.displayName="withRouter("+(r.displayName||r.name)+")",e.WrappedComponent=r,e.propTypes={wrappedComponentRef:i.a.func},c()(e,r)};t.a=l}}]);
//# sourceMappingURL=1.js.map